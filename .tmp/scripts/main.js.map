{"version":3,"sources":["main.js"],"names":["visitCountValue","optOutCookie","document","cookie","parseInt","split","find","row","startsWith","increaseVisitCount","window","onload","undefined","isNaN","btnOpen","getElementById","btnClose","btnOptOut","closeSurvey","snackbar","classList","openSurvey","onclick"],"mappings":"AAAA,CAAC,YAAU;AAEP;AACA,MAAIA,eAAJ;AACA,MAAIC,YAAJ;;AAEA,MAAGC,QAAQ,CAACC,MAAZ,EAAmB;AACfH,IAAAA,eAAe,GAAGI,QAAQ,CAACF,QAAQ,CAACC,MAAT,CACtBE,KADsB,CAChB,IADgB,EAEtBC,IAFsB,CAEjBC,GAAG,IAAIA,GAAG,CAACC,UAAJ,CAAe,aAAf,CAFU,EAGtBH,KAHsB,CAGhB,GAHgB,EAGX,CAHW,CAAD,CAA1B,CADe,CAKf;AACA;AACA;AACA;AACH,GAfM,CAiBP;;;AACA,MAAII,kBAAkB,GAAG,YAAW;AAChCT,IAAAA,eAAe;AAClB,GAFD;;AAIAU,EAAAA,MAAM,CAACC,MAAP,GAAgB,YAAU;AAEtB,QAAG,CAACV,YAAJ,EAAiB;AAEb;AACA,UAAGD,eAAe,KAAK,CAApB,IAAyBA,eAAe,KAAKY,SAA7C,IAA0DC,KAAK,CAACb,eAAD,CAAlE,EAAoF;AAChFE,QAAAA,QAAQ,CAACC,MAAT,GAAkB,qDAAlB;AACH,OAFD,MAEO;AACP;AACIM,QAAAA,kBAAkB;AAClBP,QAAAA,QAAQ,CAACC,MAAT,GAAkB,gBAAgBH,eAAhB,GAAkC,yCAApD;AACH;AACJ,KAZqB,CActB;;;AACA,QAAIc,OAAO,GAAGZ,QAAQ,CAACa,cAAT,CAAwB,eAAxB,CAAd;AAAA,QACIC,QAAQ,GAAGd,QAAQ,CAACa,cAAT,CAAwB,gBAAxB,CADf;AAAA,QAEIE,SAAS,GAAGf,QAAQ,CAACa,cAAT,CAAwB,QAAxB,CAFhB,CAfsB,CAmBtB;;AACA,QAAIG,WAAW,GAAG,YAAU;AACxB,UAAIC,QAAQ,GAAGjB,QAAQ,CAACa,cAAT,CAAwB,kBAAxB,CAAf;AACAI,MAAAA,QAAQ,CAACC,SAAT,GAAqB,wBAArB;AACH,KAHD,CApBsB,CAyBtB;;;AACA,QAAIC,UAAU,GAAG,YAAU;AACvB,UAAIF,QAAQ,GAAGjB,QAAQ,CAACa,cAAT,CAAwB,kBAAxB,CAAf;AACAI,MAAAA,QAAQ,CAACC,SAAT,GAAqB,uBAArB;AACH,KAHD,CA1BsB,CA+BtB;;;AACAN,IAAAA,OAAO,CAACQ,OAAR,GAAkB,YAAU;AACxBD,MAAAA,UAAU;AACb,KAFD,CAhCsB,CAoCtB;;;AACAL,IAAAA,QAAQ,CAACM,OAAT,GAAmB,YAAU;AACzBJ,MAAAA,WAAW;AACd,KAFD,CArCsB,CAyCtB;;;AACAD,IAAAA,SAAS,CAACK,OAAV,GAAoB,YAAU;AAC1BJ,MAAAA,WAAW;AACXhB,MAAAA,QAAQ,CAACC,MAAT,GAAkB,oDAAlB;AACH,KAHD;AAKH,GA/CD;AAgDH,CAtED","sourcesContent":["(function(){\n\n    // Create cookie for user session.\n    var visitCountValue;\n    var optOutCookie;\n\n    if(document.cookie){\n        visitCountValue = parseInt(document.cookie\n            .split('; ')\n            .find(row => row.startsWith('visitCount='))\n            .split('=')[1]);\n        // optOutCookie = document.cookie\n        //     .split('; ')\n        //     .find(row => row.startsWith('opOut='))\n        //     .split('=')[1];\n    }\n\n    // Measure visit count statistics via cookie.\n    var increaseVisitCount = function() {\n        visitCountValue++;\n    }\n\n    window.onload = function(){\n\n        if(!optOutCookie){\n\n            // If user's first time visiting, create cookie and set to 1 visit.\n            if(visitCountValue === 0 || visitCountValue === undefined || isNaN(visitCountValue)){\n                document.cookie = 'visitCount=1; expires=Thu, 26 Dec 2030 12:00:00 UTC';\n            } else {\n            // Otherwise, increase current number by 1.\n                increaseVisitCount();\n                document.cookie = 'visitCount=' + visitCountValue + '; expires=Thu, 26 Dec 2030 12:00:00 UTC';\n            }\n        }\n\n        // Declaring DOM buttons which trigger survey component.\n        var btnOpen = document.getElementById('openSurveyBtn'),\n            btnClose = document.getElementById('closeSurveyBtn'),\n            btnOptOut = document.getElementById('optOut');\n\n        // Close survey.\n        var closeSurvey = function(){\n            var snackbar = document.getElementById('survey-container');\n            snackbar.classList = 'survey-container close'\n        }\n        \n        // Open survey.\n        var openSurvey = function(){\n            var snackbar = document.getElementById('survey-container');\n            snackbar.classList = 'survey-container open'\n        }\n\n        // Event handler for open button.\n        btnOpen.onclick = function(){\n            openSurvey();\n        }\n\n        // Event handler for close survey button.\n        btnClose.onclick = function(){\n            closeSurvey();\n        }\n\n        // Event handler for opt out button.\n        btnOptOut.onclick = function(){\n            closeSurvey();\n            document.cookie = 'optOut=true; expires=Thu, 26 Dec 2030 12:00:00 UTC';\n        }\n        \n    }       \n})();"],"file":"main.js"}